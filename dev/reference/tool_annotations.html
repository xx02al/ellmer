<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Tool annotations — tool_annotations • ellmer</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tool annotations — tool_annotations"><meta name="description" content="Tool annotations are additional properties that, when passed to the
.annotations argument of tool(), provide additional information about the
tool and its behavior. This information can be used for display to users, for
example in a Shiny app or another user interface.
The annotations in tool_annotations() are drawn from the Model Context Protocol and are considered
hints. Tool authors should use these annotations to communicate tool
properties, but users should note that these annotations are not guaranteed."><meta property="og:description" content="Tool annotations are additional properties that, when passed to the
.annotations argument of tool(), provide additional information about the
tool and its behavior. This information can be used for display to users, for
example in a Shiny app or another user interface.
The annotations in tool_annotations() are drawn from the Model Context Protocol and are considered
hints. Tool authors should use these annotations to communicate tool
properties, but users should note that these annotations are not guaranteed."><meta property="og:image" content="https://ellmer.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="ellmer.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ellmer</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ellmer.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/programming.html">Programming with ellmer</a></li>
    <li><a class="dropdown-item" href="../articles/prompt-design.html">Prompt design</a></li>
    <li><a class="dropdown-item" href="../articles/streaming-async.html">Streaming and async APIs</a></li>
    <li><a class="dropdown-item" href="../articles/structured-data.html">Structured data</a></li>
    <li><a class="dropdown-item" href="../articles/tool-calling.html">Tool/function calling</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2025/07/ellmer-0-3-0/">Version 0.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2025/05/ellmer-0-2-0/">Version 0.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/announcing-ellmer/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ellmer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Tool annotations</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/ellmer/blob/main/R/tools-def.R" class="external-link"><code>R/tools-def.R</code></a></small>
      <div class="d-none name"><code>tool_annotations.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Tool annotations are additional properties that, when passed to the
<code>.annotations</code> argument of <code><a href="tool.html">tool()</a></code>, provide additional information about the
tool and its behavior. This information can be used for display to users, for
example in a Shiny app or another user interface.</p>
<p>The annotations in <code>tool_annotations()</code> are drawn from the <a href="https://modelcontextprotocol.io/introduction" class="external-link">Model Context Protocol</a> and are considered
<em>hints</em>. Tool authors should use these annotations to communicate tool
properties, but users should note that these annotations are not guaranteed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tool_annotations</span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  read_only_hint <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  open_world_hint <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  idempotent_hint <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  destructive_hint <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>A human-readable title for the tool.</p></dd>


<dt id="arg-read-only-hint">read_only_hint<a class="anchor" aria-label="anchor" href="#arg-read-only-hint"></a></dt>
<dd><p>If <code>TRUE</code>, the tool does not modify its environment.</p></dd>


<dt id="arg-open-world-hint">open_world_hint<a class="anchor" aria-label="anchor" href="#arg-open-world-hint"></a></dt>
<dd><p>If <code>TRUE</code>, the tool may interact with an "open world"
of external entities. If <code>FALSE</code>, the tool's domain of interaction is
closed. For example, the world of a web search tool is open, but the world
of a memory tool is not.</p></dd>


<dt id="arg-idempotent-hint">idempotent_hint<a class="anchor" aria-label="anchor" href="#arg-idempotent-hint"></a></dt>
<dd><p>If <code>TRUE</code>, calling the tool repeatedly with the same
arguments will have no additional effect on its environment. (Only
meaningful when <code>read_only_hint</code> is <code>FALSE</code>.)</p></dd>


<dt id="arg-destructive-hint">destructive_hint<a class="anchor" aria-label="anchor" href="#arg-destructive-hint"></a></dt>
<dd><p>If <code>TRUE</code>, the tool may perform destructive updates
to its environment, otherwise it only performs additive updates. (Only
meaningful when <code>read_only_hint</code> is <code>FALSE</code>.)</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional named parameters to include in the tool annotations.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of tool annotations.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other tool calling helpers:
<code><a href="tool.html">tool</a>()</code>,
<code><a href="tool_reject.html">tool_reject</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># See ?tool() for a full example using this function.</span></span></span>
<span class="r-in"><span><span class="co"># We're creating a tool around R's `rnorm()` function to allow the chatbot to</span></span></span>
<span class="r-in"><span><span class="co"># generate random numbers from a normal distribution.</span></span></span>
<span class="r-in"><span><span class="va">tool_rnorm</span> <span class="op">&lt;-</span> <span class="fu"><a href="tool.html">tool</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">rnorm</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Describe the tool function to the LLM</span></span></span>
<span class="r-in"><span>  .description <span class="op">=</span> <span class="st">"Drawn numbers from a random normal distribution"</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Describe the parameters used by the tool function</span></span></span>
<span class="r-in"><span>  n <span class="op">=</span> <span class="fu"><a href="type_boolean.html">type_integer</a></span><span class="op">(</span><span class="st">"The number of observations. Must be a positive integer."</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  mean <span class="op">=</span> <span class="fu"><a href="type_boolean.html">type_number</a></span><span class="op">(</span><span class="st">"The mean value of the distribution."</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  sd <span class="op">=</span> <span class="fu"><a href="type_boolean.html">type_number</a></span><span class="op">(</span><span class="st">"The standard deviation of the distribution. Must be a non-negative number."</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Tool annotations optionally provide additional context to the LLM</span></span></span>
<span class="r-in"><span>  .annotations <span class="op">=</span> <span class="fu">tool_annotations</span><span class="op">(</span></span></span>
<span class="r-in"><span>    title <span class="op">=</span> <span class="st">"Draw Random Normal Numbers"</span>,</span></span>
<span class="r-in"><span>    read_only_hint <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># the tool does not modify any state</span></span></span>
<span class="r-in"><span>    open_world_hint <span class="op">=</span> <span class="cn">FALSE</span> <span class="co"># the tool does not interact with the outside world</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The `...` argument of `tool()` is deprecated as of ellmer 0.3.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use the `arguments` argument instead.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The `.description` argument of `tool()` is deprecated as of ellmer</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> 0.3.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use the `description` argument instead.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The `.annotations` argument of `tool()` is deprecated as of ellmer</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> 0.3.0.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use the `annotations` argument instead.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, Joe Cheng, Aaron Jacobs, <a href="https://garrickadenbuie.com" class="external-link">Garrick Aden-Buie</a>, <a href="http://schloerke.com" class="external-link">Barret Schloerke</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

