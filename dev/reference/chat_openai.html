<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Chat with an OpenAI model — chat_openai • ellmer</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Chat with an OpenAI model — chat_openai"><meta name="description" content="This is the main interface to OpenAI's models,
using the responses API. You can use this to access OpenAI's latest
models and features like image generation and web search. If you need to use
an OpenAI-compatible API from another provider, or the chat completions
API with OpenAI,use chat_openai_compatible() instead.
Note that a ChatGPT Plus membership does not grant access to the API.
You will need to sign up for a developer account (and pay for it) at the
developer platform."><meta property="og:description" content="This is the main interface to OpenAI's models,
using the responses API. You can use this to access OpenAI's latest
models and features like image generation and web search. If you need to use
an OpenAI-compatible API from another provider, or the chat completions
API with OpenAI,use chat_openai_compatible() instead.
Note that a ChatGPT Plus membership does not grant access to the API.
You will need to sign up for a developer account (and pay for it) at the
developer platform."><meta property="og:image" content="https://ellmer.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="ellmer.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ellmer</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ellmer.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/programming.html">Programming with ellmer</a></li>
    <li><a class="dropdown-item" href="../articles/prompt-design.html">Prompt design</a></li>
    <li><a class="dropdown-item" href="../articles/streaming-async.html">Streaming and async APIs</a></li>
    <li><a class="dropdown-item" href="../articles/structured-data.html">Structured data</a></li>
    <li><a class="dropdown-item" href="../articles/tool-calling.html">Tool/function calling</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://tidyverse.org/blog/2025/11/ellmer-0-4-0/">Version 0.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2025/07/ellmer-0-3-0/">Version 0.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2025/05/ellmer-0-2-0/">Version 0.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/announcing-ellmer/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ellmer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Chat with an OpenAI model</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/ellmer/blob/main/R/provider-openai.R" class="external-link"><code>R/provider-openai.R</code></a></small>
      <div class="d-none name"><code>chat_openai.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the main interface to <a href="https://openai.com/" class="external-link">OpenAI</a>'s models,
using the <strong>responses API</strong>. You can use this to access OpenAI's latest
models and features like image generation and web search. If you need to use
an OpenAI-compatible API from another provider, or the <strong>chat completions</strong>
API with OpenAI,use <code><a href="chat_openai_compatible.html">chat_openai_compatible()</a></code> instead.</p>
<p>Note that a ChatGPT Plus membership does not grant access to the API.
You will need to sign up for a developer account (and pay for it) at the
<a href="https://platform.openai.com" class="external-link">developer platform</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">chat_openai</span><span class="op">(</span></span>
<span>  system_prompt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  base_url <span class="op">=</span> <span class="st">"https://api.openai.com/v1"</span>,</span>
<span>  api_key <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  credentials <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  params <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  api_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  api_headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  service_tier <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"default"</span>, <span class="st">"flex"</span>, <span class="st">"priority"</span><span class="op">)</span>,</span>
<span>  echo <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"output"</span>, <span class="st">"all"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">models_openai</span><span class="op">(</span></span>
<span>  base_url <span class="op">=</span> <span class="st">"https://api.openai.com/v1"</span>,</span>
<span>  api_key <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  credentials <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-system-prompt">system_prompt<a class="anchor" aria-label="anchor" href="#arg-system-prompt"></a></dt>
<dd><p>A system prompt to set the behavior of the assistant.</p></dd>


<dt id="arg-base-url">base_url<a class="anchor" aria-label="anchor" href="#arg-base-url"></a></dt>
<dd><p>The base URL to the endpoint; the default is OpenAI's
public API.</p></dd>


<dt id="arg-api-key">api_key<a class="anchor" aria-label="anchor" href="#arg-api-key"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Use <code>credentials</code> instead.</p></dd>


<dt id="arg-credentials">credentials<a class="anchor" aria-label="anchor" href="#arg-credentials"></a></dt>
<dd><p>Override the default credentials. You generally should not need this argument; instead set the <code>OPENAI_API_KEY</code> environment variable. The best place to set this is in <code>.Renviron</code>,
which you can easily edit by calling <code>usethis::edit_r_environ()</code>.</p>
<p>If you do need additional control, this argument takes a zero-argument function that returns either a string (the API key), or a named list (added as additional headers to every request).</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>The model to use for the chat (defaults to "gpt-4.1").
We regularly update the default, so we strongly recommend explicitly specifying a model for anything other than casual use.
Use <code>models_openai()</code> to see all options.</p></dd>


<dt id="arg-params">params<a class="anchor" aria-label="anchor" href="#arg-params"></a></dt>
<dd><p>Common model parameters, usually created by <code><a href="params.html">params()</a></code>.</p></dd>


<dt id="arg-api-args">api_args<a class="anchor" aria-label="anchor" href="#arg-api-args"></a></dt>
<dd><p>Named list of arbitrary extra arguments appended to the body
of every chat API call. Combined with the body object generated by ellmer
with <code><a href="https://rdrr.io/r/utils/modifyList.html" class="external-link">modifyList()</a></code>.</p></dd>


<dt id="arg-api-headers">api_headers<a class="anchor" aria-label="anchor" href="#arg-api-headers"></a></dt>
<dd><p>Named character vector of arbitrary extra headers appended
to every chat API call.</p></dd>


<dt id="arg-service-tier">service_tier<a class="anchor" aria-label="anchor" href="#arg-service-tier"></a></dt>
<dd><p>Request a specific service tier. There are four options:</p><ul><li><p><code>"auto"</code> (default): uses the service tier configured in Project settings.</p></li>
<li><p><code>"default"</code>: standard pricing and performance.</p></li>
<li><p><code>"flex"</code>: slower and cheaper.</p></li>
<li><p><code>"priority"</code>: faster and more expensive.</p></li>
</ul></dd>


<dt id="arg-echo">echo<a class="anchor" aria-label="anchor" href="#arg-echo"></a></dt>
<dd><p>One of the following options:</p><ul><li><p><code>none</code>: don't emit any output (default when running in a function).</p></li>
<li><p><code>output</code>: echo text and tool-calling output as it streams in (default
when running at the console).</p></li>
<li><p><code>all</code>: echo all input and output.</p></li>
</ul><p>Note this only affects the <code><a href="chat-any.html">chat()</a></code> method.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="Chat.html">Chat</a> object.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other chatbots:
<code><a href="chat_anthropic.html">chat_anthropic()</a></code>,
<code><a href="chat_aws_bedrock.html">chat_aws_bedrock()</a></code>,
<code><a href="chat_azure_openai.html">chat_azure_openai()</a></code>,
<code><a href="chat_cloudflare.html">chat_cloudflare()</a></code>,
<code><a href="chat_databricks.html">chat_databricks()</a></code>,
<code><a href="chat_deepseek.html">chat_deepseek()</a></code>,
<code><a href="chat_github.html">chat_github()</a></code>,
<code><a href="chat_google_gemini.html">chat_google_gemini()</a></code>,
<code><a href="chat_groq.html">chat_groq()</a></code>,
<code><a href="chat_huggingface.html">chat_huggingface()</a></code>,
<code><a href="chat_mistral.html">chat_mistral()</a></code>,
<code><a href="chat_ollama.html">chat_ollama()</a></code>,
<code><a href="chat_openai_compatible.html">chat_openai_compatible()</a></code>,
<code><a href="chat_openrouter.html">chat_openrouter()</a></code>,
<code><a href="chat_perplexity.html">chat_perplexity()</a></code>,
<code><a href="chat_portkey.html">chat_portkey()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">chat</span> <span class="op">&lt;-</span> <span class="fu">chat_openai</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using <span style="color: #00BB00;">model</span> = <span style="color: #0000BB;">"gpt-4.1"</span>.</span>
<span class="r-in"><span><span class="va">chat</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">  What is the difference between a tibble and a data frame?</span></span></span>
<span class="r-in"><span><span class="st">  Answer with a bulleted list</span></span></span>
<span class="r-in"><span><span class="st">"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - **Origin:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Data Frame:** Base R object for storing tabular data.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Tibble:** Modern reimagining of data frames, part of the </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tidyverse (tibble package).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - **Printing:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Data Frame:** Prints the entire object, possibly flooding the </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> console.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Tibble:** Prints a preview (first 10 rows and fits columns to </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> screen), making output more readable.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - **Subsetting:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Data Frame:** May simplify to a vector when selecting a single </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> column.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Tibble:** Always returns a tibble when subsetting columns with </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> `[`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - **Column Names:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Data Frame:** Allows non-syntactic names (with some issues).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Tibble:** Accepts any name but displays them as is, including </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> those with spaces or special characters (backticks needed to </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> reference).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - **Data Types:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Data Frame:** Converts strings to factors by default (unless </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> specified otherwise).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Tibble:** Does **not** convert strings to factors by default.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - **Partial Matching:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Data Frame:** Allows partial matching of column names.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Tibble:** Does **not** allow partial matching; requires exact </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> names.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - **Performance:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Data Frame:** Slightly faster for basic operations due to </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> simpler structure.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Tibble:** Slightly slower but offers better usability, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> especially for big data analysis.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - **Use in Tidyverse:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Data Frame:** Used in base R workflows.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Tibble:** Default in tidyverse packages (ggplot2, dplyr, etc.).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - **Row Names:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Data Frame:** Supports row names.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - **Tibble:** Does not support row names; stores them as a column if</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> needed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> In summary, tibbles are a modern and tidyverse-friendly version of </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data frames with improved usability and printing features.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">chat</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span><span class="st">"Tell me three funny jokes about statisticians"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Absolutely! Here are three funny jokes about statisticians:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Why did the statistician bring a ladder to the bar?**  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Because they heard the drinks were on the house!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **How does a statistician catch a lion?**  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    They build a cage, label it as “population,” and wait for the lion </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to walk right in—it's all about sampling!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Why don’t statisticians ever get sunburned?**  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Because they know how to avoid the "mean rays."</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, Joe Cheng, Aaron Jacobs, <a href="https://garrickadenbuie.com" class="external-link">Garrick Aden-Buie</a>, <a href="http://schloerke.com" class="external-link">Barret Schloerke</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

