<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Chat with a model hosted on CloudFlare — chat_cloudflare • ellmer</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Chat with a model hosted on CloudFlare — chat_cloudflare"><meta name="description" content="Cloudflare
works AI hosts a variety of open-source AI models. To use the Cloudflare
API, you must have an Account ID and an Access Token, which you can obtain
by following these instructions.
Known limitations


Tool calling does not appear to work.
Images don't appear to work.



"><meta property="og:description" content="Cloudflare
works AI hosts a variety of open-source AI models. To use the Cloudflare
API, you must have an Account ID and an Access Token, which you can obtain
by following these instructions.
Known limitations


Tool calling does not appear to work.
Images don't appear to work.



"><meta property="og:image" content="https://ellmer.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="ellmer.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ellmer</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ellmer.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/programming.html">Programming with ellmer</a></li>
    <li><a class="dropdown-item" href="../articles/prompt-design.html">Prompt design</a></li>
    <li><a class="dropdown-item" href="../articles/streaming-async.html">Streaming and async APIs</a></li>
    <li><a class="dropdown-item" href="../articles/structured-data.html">Structured data</a></li>
    <li><a class="dropdown-item" href="../articles/tool-calling.html">Tool/function calling</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ellmer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Chat with a model hosted on CloudFlare</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/ellmer/blob/main/R/provider-cloudflare.R" class="external-link"><code>R/provider-cloudflare.R</code></a></small>
      <div class="d-none name"><code>chat_cloudflare.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://www.cloudflare.com/developer-platform/products/workers-ai/" class="external-link">Cloudflare</a>
works AI hosts a variety of open-source AI models. To use the Cloudflare
API, you must have an Account ID and an Access Token, which you can obtain
<a href="https://developers.cloudflare.com/workers-ai/get-started/rest-api/" class="external-link">by following these instructions</a>.</p><div class="section">
<h3 id="known-limitations">Known limitations<a class="anchor" aria-label="anchor" href="#known-limitations"></a></h3>

<ul><li><p>Tool calling does not appear to work.</p></li>
<li><p>Images don't appear to work.</p></li>
</ul></div>

    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">chat_cloudflare</span><span class="op">(</span></span>
<span>  account <span class="op">=</span> <span class="fu">cloudflare_account</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  system_prompt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  params <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  api_key <span class="op">=</span> <span class="fu">cloudflare_key</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  api_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  echo <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-account">account<a class="anchor" aria-label="anchor" href="#arg-account"></a></dt>
<dd><p>The Cloudflare account ID. Taken from the
<code>CLOUDFLARE_ACCOUNT_ID</code> env var, if defined.</p></dd>


<dt id="arg-system-prompt">system_prompt<a class="anchor" aria-label="anchor" href="#arg-system-prompt"></a></dt>
<dd><p>A system prompt to set the behavior of the assistant.</p></dd>


<dt id="arg-params">params<a class="anchor" aria-label="anchor" href="#arg-params"></a></dt>
<dd><p>Common model parameters, usually created by <code><a href="params.html">params()</a></code>.</p></dd>


<dt id="arg-api-key">api_key<a class="anchor" aria-label="anchor" href="#arg-api-key"></a></dt>
<dd><p>The API key to use for authentication. You generally should
not supply this directly, but instead set the <code>HUGGINGFACE_API_KEY</code> environment
variable.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>The model to use for the chat (defaults to "meta-llama/Llama-3.3-70b-instruct-fp8-fast").
We regularly update the default, so we strongly recommend explicitly specifying a model for anything other than casual use.</p></dd>


<dt id="arg-api-args">api_args<a class="anchor" aria-label="anchor" href="#arg-api-args"></a></dt>
<dd><p>Named list of arbitrary extra arguments appended to the body
of every chat API call. Combined with the body object generated by ellmer
with <code><a href="https://rdrr.io/r/utils/modifyList.html" class="external-link">modifyList()</a></code>.</p></dd>


<dt id="arg-echo">echo<a class="anchor" aria-label="anchor" href="#arg-echo"></a></dt>
<dd><p>One of the following options:</p><ul><li><p><code>none</code>: don't emit any output (default when running in a function).</p></li>
<li><p><code>text</code>: echo text output as it streams in (default when running at
the console).</p></li>
<li><p><code>all</code>: echo all input and output.</p></li>
</ul><p>Note this only affects the <code>chat()</code> method.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="Chat.html">Chat</a> object.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other chatbots:
<code><a href="chat_anthropic.html">chat_anthropic</a>()</code>,
<code><a href="chat_aws_bedrock.html">chat_aws_bedrock</a>()</code>,
<code><a href="chat_azure_openai.html">chat_azure_openai</a>()</code>,
<code><a href="chat_cortex_analyst.html">chat_cortex_analyst</a>()</code>,
<code><a href="chat_databricks.html">chat_databricks</a>()</code>,
<code><a href="chat_deepseek.html">chat_deepseek</a>()</code>,
<code><a href="chat_github.html">chat_github</a>()</code>,
<code><a href="chat_google_gemini.html">chat_google_gemini</a>()</code>,
<code><a href="chat_groq.html">chat_groq</a>()</code>,
<code><a href="chat_huggingface.html">chat_huggingface</a>()</code>,
<code><a href="chat_mistral.html">chat_mistral</a>()</code>,
<code><a href="chat_ollama.html">chat_ollama</a>()</code>,
<code><a href="chat_openai.html">chat_openai</a>()</code>,
<code><a href="chat_openrouter.html">chat_openrouter</a>()</code>,
<code><a href="chat_perplexity.html">chat_perplexity</a>()</code>,
<code><a href="chat_portkey.html">chat_portkey</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">chat</span> <span class="op">&lt;-</span> <span class="fu">chat_cloudflare</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">chat</span><span class="op">$</span><span class="fu">chat</span><span class="op">(</span><span class="st">"Tell me three jokes about statisticians"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, Joe Cheng, Aaron Jacobs, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

  </div></footer></body></html>

